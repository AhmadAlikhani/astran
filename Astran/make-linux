

export LD_LIBRARY_PATH=/usr/lib64/

BIN=build/bin/astran
SRC=$(shell find -name "*.cpp")
OBJ=$(SRC:.cpp=.o)

CFLAGS = $(shell wx-config --cxxflags --libs) -Wno-deprecated
LIBS = $(shell wx-config --libs)

build: $(OBJ) $(BIN) $pos-compile

%.o: %.cpp %.h
	@ echo Compiling $(@:.o=.cpp)
	@ g++ $(CFLAGS) -c -o $@ $(@:.o=.cpp)

$(BIN): $(OBJ)
	@ g++ -g -o $@ $(OBJ) $(LIBS)

pos-compile:
	@ chmod -x build/bin/astran.cfg

clean:
	@ rm -rf $(BIN)
	@ rm -rf $(OBJ)


